<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
	<meta name="viewport" content="width=device-width, initial-scale=1">	

	<title>ToDo List</title>
	<style type="text/css">
		ul li.checked{
			text-decoration: line-through;
		}
	</style>
</head>
<body>
	<h1>Todo List</h1>
	<input type="text" name="todo item" id="todo_input">

	<button onClick="func()">Add Item</button><br>

	<div id= "res_todo_div">
		<ul id="todo_list_ul">
			<li>Post Grades<i class="bi bi-eraser"></i></li>
			<li>TA Meeting<i class="bi bi-eraser"></i></li>
		</ul>
	</div>

	<script type="text/javascript">
		
	// enter key 
	var input = document.getElementById("todo_input");
   	input.addEventListener("keydown", function (e) {
    	if (e.key === "Enter") {  
      		func();
    	}
  	});

	// add a new element
    function func(){
    	const item = document.getElementById("todo_input");
    	todo_value = item.value;
    	console.log(todo_value);
    	if (todo_value===''){
    		alert("Please enter some text.")
    	}
    	else{
    		const ul = document.getElementById("todo_list_ul");
			const li = document.createElement("li");
			const textnode = document.createTextNode(item.value);
			const new_li_node = li.appendChild(textnode);
			// new_li_node.appendChild(document.createElement("i").classList.add("bi bi-eraser"));
			ul.appendChild(li);
    	}

    }

    // strike through on click
    var list = document.querySelector('ul');
    list.addEventListener('click', function(ev){
    	if (ev.target.tagName === 'LI') {
    		ev.target.classList.toggle('checked');
    	}
    }, false);
	</script>
</body>
</html>